<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>Title</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/index.css">

</head>
<body>
<div class="jd_layout">
    <!--搜索模块-->
    <div class="jd_search">
        <a href="javascript:;" class="jd_logo"></a>
        <form action="" class="jd_searchBox">
            <input type="text" placeholder="请输入商品名称">
        </form>
        <a href="javascript:;" class="jd_login">登录</a>
    </div>
    <!--轮播图-->
    <div class="jd_banner">
        <ul class="jd_bannerImg clearfix">
            <li><a href="javascript:;"><img src="./uploads/l1.jpg" alt=""></a></li>
            <li><a href="javascript:;"><img src="./uploads/l2.jpg" alt=""></a></li>
            <li><a href="javascript:;"><img src="./uploads/l3.jpg" alt=""></a></li>
            <li><a href="javascript:;"><img src="./uploads/l4.jpg" alt=""></a></li>
            <li><a href="javascript:;"><img src="./uploads/l5.jpg" alt=""></a></li>
            <li><a href="javascript:;"><img src="./uploads/l6.jpg" alt=""></a></li>
            <li><a href="javascript:;"><img src="./uploads/l7.jpg" alt=""></a></li>
            <li><a href="javascript:;"><img src="./uploads/l8.jpg" alt=""></a></li>
        </ul>
        <ul class="jd_bannerIndicator">
            <li class="active"></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>
    </div>
    <!--导航模块-->
    <div class="jd_nav">
        <ul class="clearfix">
            <li>
                <a href="javascript:;"><img src="./images/nav_1.png" alt=""></a>
                <p>商品分类</p>
            </li>
            <li>
                <a href="javascript:;"><img src="./images/nav_2.png" alt=""></a>
                <p>商品分类</p>
            </li>
            <li>
                <a href="javascript:;"><img src="./images/nav_3.png" alt=""></a>
                <p>商品分类</p>
            </li>
            <li>
                <a href="javascript:;"><img src="./images/nav_4.png" alt=""></a>
                <p>商品分类</p>
            </li>
            <li>
                <a href="javascript:;"><img src="./images/nav_5.png" alt=""></a>
                <p>商品分类</p>
            </li>
            <li>
                <a href="javascript:;"><img src="./images/nav_6.png" alt=""></a>
                <p>商品分类</p>
            </li>
            <li>
                <a href="javascript:;"><img src="./images/nav_7.png" alt=""></a>
                <p>商品分类</p>
            </li>
            <li>
                <a href="javascript:;"><img src="./images/nav_8.png" alt=""></a>
                <p>商品分类</p>
            </li>

        </ul>
    </div>
    <!--产品模块-->
    <div class="jd_product clearfix">
        <div class="jd_sk">
            <div class="jd_pTip clearfix">
                <div class="jd_left f_left">
                    <span class="js_sk_icon f_left m_left10"></span>
                    <span class="js_sk_text f_left m_left10">掌上秒杀</span>
                    <div class="jd_sk_time f_left m_left10">
                        <span>0</span>
                        <span>0</span>
                        <span>:</span>
                        <span>0</span>
                        <span>0</span>
                        <span>:</span>
                        <span>0</span>
                        <span>0</span>
                    </div>
                </div>
                <div class="jd_right f_right m_left10">更多秒杀...</div>
            </div>
            <div class="jd_pContent clearfix">
                <ul>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/detail01.jpg" alt="">
                        </a>
                        <p>&yen;10.00</p>
                        <p>&yen;10.00</p>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/detail01.jpg" alt="">
                        </a>
                        <p>&yen;10.00</p>
                        <p>&yen;10.00</p>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/detail01.jpg" alt="">
                        </a>
                        <p>&yen;10.00</p>
                        <p>&yen;10.00</p>
                    </li>
                </ul>
            </div>
        </div>
        <div class="jd_productsBox">
            <div class="jd_pTip">
                <h3>京东超市</h3>

            </div>
            <div class="jd_pContent clearfix">
                <a href="javascript:;" class="f_left">
                    <img src="./uploads/cp1.jpg" alt="">
                </a>
                <a href="javascript:;" class="f_left border_l border_b">
                    <img src="./uploads/cp2.jpg" alt="">
                </a>
                <a href="javascript:;" class="f_left border_l">
                    <img src="./uploads/cp3.jpg" alt="">
                </a>
            </div>
        </div>
        <div class="jd_productsBox">
            <div class="jd_pTip">
                <h3>京东超市</h3>

            </div>
            <div class="jd_pContent clearfix">
                <a href="javascript:;" class="f_right ">
                    <img src="./uploads/cp4.jpg" alt="">
                </a>
                <a href="javascript:;" class="f_left border_b border_l">
                    <img src="./uploads/cp5.jpg" alt="">
                </a>
                <a href="javascript:;" class="f_left border_l">
                    <img src="./uploads/cp6.jpg" alt="">
                </a>
            </div>
        </div>
    </div>
</div>
<script src="js/zepto.min.js"></script>
<script>
    $(function () {
        var banner = $(".jd_banner");
        var bannerWidth = banner.width();
        console.log(bannerWidth);
        var slide = banner.find("ul:first-of-type");
        var point = banner.find("ul:last-of-type");
        var points = point.find("li");
        var lis = slide.find("li");
        var last = slide.find("li:last-of-type");
        var jd_search = $(".jd_search");




        slide.append(slide.find("li:first-of-type").clone());
        last.clone().insertBefore(slide.find("li:first-of-type"));
        var num = slide.children().length;
        var index = 1;
        slide.width(num*bannerWidth + 'px');
        slide.css("left",-bannerWidth + 'px');
        slide.children().width(bannerWidth + 'px');
//        设置搜索框透明度
        var bannerH = banner.height();
        $(window).scroll(function () {
            var bil = $(this).scrollTop()/bannerH;
            console.log("kk"+bannerH);
            jd_search.css("backgroundColor","rgba(233,67,34,"+bil+")");
        });
//页面缩放
        $(window).resize(function () {
           console.log("缩放");
            bannerW = banner.width();
            slide.width(num*bannerW);
            lis.width(bannerW);

        });
//        动画函数
        var imgAnimate = function () {
            slide.animate({
                "left":-index*bannerWidth
            },200,"ease-in-out",function () {
                if(index == num-1){
                    index = 1;
                    slide.css("left",-index*bannerWidth);
                }else if(index == 0){
                    index = num - 2;
                    slide.css("left",-index*bannerWidth);
                }
                points.removeClass("active").eq(index-1).addClass("active");
            });
        } ;
        var time = setInterval(function () {
            index++;
            imgAnimate();
        },1000);
    });
</script>
</body>
</html>